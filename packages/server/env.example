# ============================================================================
# BILLING & ACCOUNTING APPLICATION - SERVER ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env and fill in your actual values
# cp env.example .env

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=development
PORT=3001
APP_VERSION=1.0.0

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL Database URL
DATABASE_URL=postgresql://billing_user:billing_password@localhost:5432/accounting

# SQLite Database URL (for offline/local development)
SQLITE_DATABASE_URL=file:./dev.db

# Database Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_ACQUIRE_TIMEOUT=30000
DB_CREATE_TIMEOUT=30000
DB_DESTROY_TIMEOUT=5000
DB_IDLE_TIMEOUT=30000
DB_REAP_INTERVAL=1000
DB_CREATE_RETRY_INTERVAL=200

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_URL=redis://:redis_password@localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0
REDIS_KEY_PREFIX=billing_app:
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=3

# ============================================================================
# JWT CONFIGURATION
# ============================================================================
# IMPORTANT: Change these secrets in production!
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-characters
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production-minimum-32-characters
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=billing-app
JWT_AUDIENCE=billing-app-users

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads
TEMP_DIR=temp

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@billingapp.com
EMAIL_REPLY_TO=support@billingapp.com

# ============================================================================
# FILE STORAGE CONFIGURATION
# ============================================================================
STORAGE_TYPE=local
LOCAL_STORAGE_PATH=storage

# AWS S3 Configuration (if using S3)
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_ENDPOINT=

# Google Cloud Storage Configuration (if using GCS)
GCS_BUCKET=your-bucket-name
GCS_PROJECT_ID=your-project-id
GCS_KEY_FILENAME=path/to/service-account-key.json

# ============================================================================
# PAYMENT GATEWAY CONFIGURATION
# ============================================================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal Configuration
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-in-production

# MFA Configuration
MFA_ISSUER=BillingApp

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true
PASSWORD_MAX_AGE=90

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14d
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_COLORIZE=true

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================
QUEUE_REDIS_HOST=localhost
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_PASSWORD=redis_password
QUEUE_REDIS_DB=1
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=50
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=2000

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================
CACHE_TTL=300
CACHE_CHECK_PERIOD=600
CACHE_MAX_KEYS=1000

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_TIMEOUT=30000
API_DEFAULT_LIMIT=20
API_MAX_LIMIT=100

# ============================================================================
# WEBSOCKET CONFIGURATION
# ============================================================================
WS_CORS_ORIGIN=http://localhost:3000
WS_PING_TIMEOUT=60000
WS_PING_INTERVAL=25000

# ============================================================================
# CRON JOBS CONFIGURATION
# ============================================================================
CRON_ENABLED=true
CRON_TIMEZONE=UTC
CRON_CLEANUP=0 2 * * *
CRON_BACKUP=0 3 * * 0
CRON_REPORTS=0 9 * * 1

# ============================================================================
# MONITORING CONFIGURATION
# ============================================================================
MONITORING_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# ============================================================================
# DEVELOPMENT OVERRIDES
# ============================================================================
# Uncomment these lines for development
# LOG_LEVEL=debug
# LOG_FILE_ENABLED=false
# METRICS_ENABLED=false
# HEALTH_CHECK_ENABLED=false
